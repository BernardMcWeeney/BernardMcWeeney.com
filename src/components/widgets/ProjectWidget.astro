---
// components/widgets/ProjectWidget.astro
import RetroImage from '../RetroImage.astro';

interface Project {
  title: string;
  description: string;
  link: string;
  tags: string[];
  image?: string;
}

interface Props {
  projects: Project[];
}

const { projects } = Astro.props;
---

<div class="space-y-6">
  {projects.map(project => (
    <div class="projects-item border-2 border-[var(--color-border)] p-4 hover:border-[var(--color-accent)] transition-colors duration-300">
      {project.image && (
        <div class="mb-3">
          <RetroImage 
            src={project.image} 
            alt={project.title}
          />
        </div>
      )}
      <h4 class="text-lg font-bold font-mono mb-2">
        <a 
          href={project.link} 
          class="hover:text-[var(--color-accent)] transition-colors duration-300"
        >
          {project.title}
        </a>
      </h4>
      <p class="text-sm mb-3">{project.description}</p>
      <div class="flex flex-wrap gap-2">
        {project.tags.map(tag => (
          <span 
            class="tag-styling inline-block px-2 py-0.5 text-xs font-mono"
          >
            {tag}
          </span>
        ))}
      </div>
    </div>
  ))}
</div>

<div class="mt-4 text-center">
  <a 
    href="/projects" 
    target="_blank" 
    rel="noopener noreferrer" 
    class="inline-flex items-center font-mono text-xs hover:text-[var(--color-accent)] transition-colors duration-300"
  >
    <span>View All Projects</span>
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      class="h-3 w-3 ml-1" 
      viewBox="0 0 20 20" 
      fill="currentColor"
    >
      <path 
        fill-rule="evenodd" 
        d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" 
        clip-rule="evenodd" 
      />
    </svg>
  </a>
</div>

<style>
  /* Direct CSS approach - no variables needed */
  .tag-styling {
    background-color: #000000;
    color: #ffffff;
  }

  :global(.dark) .tag-styling {
    background-color: #ffffff;
    color: #000000;
  }
</style>